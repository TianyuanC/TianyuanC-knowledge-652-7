import { Head } from "mdx-deck";
export { future as theme } from "mdx-deck/themes";

<Head>
    <title>Knowledge Session VII ðŸ¤¯</title>
</Head>

# Knowledge Session VII

---

## News

-   [Node.js 12](https://medium.com/@nodejs/introducing-node-js-12-76c41a1b3f3f)
-   [create-react-app 3.0](https://github.com/facebook/create-react-app/releases/tag/v3.0.0)

---

## @heytaco ðŸŒ®

-   [What is it](https://sites.google.com/udacity.com/udacitycommunity/initiatives/hey-taco)

---

## react-redux

-   connect
-   Provider
-   [next](https://react-redux.js.org/next/introduction/quick-start)

---

## JS Design Patterns

-   [Game](http://designpatternsgame.com/)

---

import Code from "mdx-code";

## ES6 ðŸ¤“

---

export default Code;

```javascript
const delay = (t, name) => (poolId = 0) =>
    new Promise(resolve => {
        console.log(`[pool-${poolId}][t-${name}]: started`);
        setTimeout(() => {
            console.log(`[pool-${poolId}][t-${name}]: done`);
            resolve();
        }, t);
    });

class ConnectionPool {
    constructor(maxPool, tasks) {
        this.maxPool = maxPool;
        this.tasks = tasks;
    }

    execute() {
        const currTasks = this.tasks.splice(0, this.maxPool);
        Promise.all(
            currTasks.map((eachTask, idx) =>
                eachTask(idx).then(() => this._handleNextTask(idx))
            )
        ).then(() => {
            console.log("all done");
        });
    }

    _handleNextTask(idx) {
        if (this.tasks.length === 0) {
            return;
        } else {
            const nextTask = this.tasks.splice(0, 1)[0];
            return nextTask(idx).then(() => this._handleNextTask(idx));
        }
    }
}
```

```javascript From the last time...
const task1 = delay(1000, "one");
const task2 = delay(500, "two");
const task3 = delay(600, "three");
let tasks = [task1, task2, task3];

const pool = new ConnectionPool(2, tasks);
pool.execute();
```

---

## Challenge

-   Make it scalable
-   Can handle incoming tasks

---

## Until Next Time ðŸ‘‹
